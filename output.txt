samholtzman@Sams-MacBook-Pro llm-router-proxy % docker-compose down -v
docker-compose up --build
[+] Running 4/4
 ✔ Container llm-router-proxy-app-1       Removed                                                                         0.0s 
 ✔ Container llm-router-proxy-db-1        Removed                                                                         0.0s 
 ✔ Network llm-router-proxy_default       Removed                                                                         0.2s 
 ✔ Volume llm-router-proxy_postgres_data  Removed                                                                         0.0s 
[+] Building 0.7s (12/12) FINISHED                                                                                             
 => [internal] load local bake definitions                                                                                0.0s
 => => reading from stdin 563B                                                                                            0.0s
 => [internal] load build definition from Dockerfile                                                                      0.0s
 => => transferring dockerfile: 729B                                                                                      0.0s
 => [internal] load metadata for docker.io/library/node:20-alpine                                                         0.4s
 => [internal] load .dockerignore                                                                                         0.0s
 => => transferring context: 77B                                                                                          0.0s
 => [1/5] FROM docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39f0a770265435   0.0s
 => => resolve docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39f0a770265435   0.0s
 => [internal] load build context                                                                                         0.0s
 => => transferring context: 2.57kB                                                                                       0.0s
 => CACHED [2/5] WORKDIR /app                                                                                             0.0s
 => CACHED [3/5] COPY package*.json ./                                                                                    0.0s
 => CACHED [4/5] RUN npm install                                                                                          0.0s
 => [5/5] COPY . .                                                                                                        0.0s
 => exporting to image                                                                                                    0.0s
 => => exporting layers                                                                                                   0.0s
 => => exporting manifest sha256:1c6c874ce3d60f6bf478ec4f2eed6efdc3d8446e23fbfcdc8379e51f0ae238f6                         0.0s
 => => exporting config sha256:bc4d48141864f908b55a092f108577f4912f7b469e8af07cddf3ab1e905c0d75                           0.0s
 => => exporting attestation manifest sha256:7a264d1161c54bdba75458f2e12bf8f9a575e4b3fcd1404859716fb0f35a1d88             0.0s
 => => exporting manifest list sha256:964264fe84c3a89a8de59028aae4d0c9055ef591da0acb1d2b700e117f4e71e2                    0.0s
 => => naming to docker.io/library/llm-router-proxy-app:latest                                                            0.0s
 => => unpacking to docker.io/library/llm-router-proxy-app:latest                                                         0.0s
 => resolving provenance for metadata file                                                                                0.0s
[+] Running 5/5
 ✔ llm-router-proxy-app                     Built                                                                         0.0s 
 ✔ Network llm-router-proxy_default         Created                                                                       0.0s 
 ✔ Volume "llm-router-proxy_postgres_data"  Created                                                                       0.0s 
 ✔ Container llm-router-proxy-db-1          Created                                                                       0.0s 
 ✔ Container llm-router-proxy-app-1         Created                                                                       0.0s 
Attaching to app-1, db-1
db-1  | The files belonging to this database system will be owned by user "postgres".
db-1  | This user must also own the server process.
db-1  | 
db-1  | The database cluster will be initialized with locale "en_US.utf8".
db-1  | The default database encoding has accordingly been set to "UTF8".
db-1  | The default text search configuration will be set to "english".
db-1  | 
db-1  | Data page checksums are disabled.
db-1  | 
db-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
db-1  | creating subdirectories ... ok
db-1  | selecting dynamic shared memory implementation ... posix
db-1  | selecting default max_connections ... 100
db-1  | selecting default shared_buffers ... 128MB
db-1  | selecting default time zone ... UTC
db-1  | creating configuration files ... ok
db-1  | running bootstrap script ... ok
app-1  | 
app-1  | > ai_api@1.0.0 docker
app-1  | > tsx src/index.ts
app-1  | 
db-1   | sh: locale: not found
db-1   | 2025-11-23 01:16:39.899 UTC [35] WARNING:  no usable system locales were found
db-1   | performing post-bootstrap initialization ... ok
db-1   | initdb: warning: enabling "trust" authentication for local connections
db-1   | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
db-1   | syncing data to disk ... ok
db-1   | 
db-1   | 
db-1   | Success. You can now start the database server using:
db-1   | 
db-1   |     pg_ctl -D /var/lib/postgresql/data -l logfile start
db-1   | 
db-1   | waiting for server to start....2025-11-23 01:16:40.096 UTC [41] LOG:  starting PostgreSQL 15.15 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
db-1   | 2025-11-23 01:16:40.097 UTC [41] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1   | 2025-11-23 01:16:40.098 UTC [44] LOG:  database system was shut down at 2025-11-23 01:16:40 UTC
db-1   | 2025-11-23 01:16:40.101 UTC [41] LOG:  database system is ready to accept connections
app-1  | user 'admin' already exists. Skipping creation.
app-1  | Listening on port 3000.
db-1   |  done
db-1   | server started
db-1   | CREATE DATABASE
db-1   | 
db-1   | 
db-1   | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
db-1   | CREATE TABLE
db-1   | CREATE INDEX
db-1   | CREATE INDEX
db-1   | 
db-1   | 
db-1   | waiting for server to shut down....2025-11-23 01:16:40.226 UTC [41] LOG:  received fast shutdown request
db-1   | 2025-11-23 01:16:40.227 UTC [41] LOG:  aborting any active transactions
db-1   | 2025-11-23 01:16:40.228 UTC [41] LOG:  background worker "logical replication launcher" (PID 47) exited with exit code 1
db-1   | 2025-11-23 01:16:40.228 UTC [42] LOG:  shutting down
db-1   | 2025-11-23 01:16:40.228 UTC [42] LOG:  checkpoint starting: shutdown immediate
db-1   | 2025-11-23 01:16:40.245 UTC [42] LOG:  checkpoint complete: wrote 928 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.005 s, sync=0.012 s, total=0.017 s; sync files=309, longest=0.004 s, average=0.001 s; distance=4265 kB, estimate=4265 kB
db-1   | 2025-11-23 01:16:40.247 UTC [41] LOG:  database system is shut down
db-1   |  done
db-1   | server stopped
db-1   | 
db-1   | PostgreSQL init process complete; ready for start up.
db-1   | 
db-1   | 2025-11-23 01:16:40.339 UTC [1] LOG:  starting PostgreSQL 15.15 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
db-1   | 2025-11-23 01:16:40.339 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
db-1   | 2025-11-23 01:16:40.339 UTC [1] LOG:  listening on IPv6 address "::", port 5432
db-1   | 2025-11-23 01:16:40.340 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1   | 2025-11-23 01:16:40.342 UTC [59] LOG:  database system was shut down at 2025-11-23 01:16:40 UTC
db-1   | 2025-11-23 01:16:40.343 UTC [1] LOG:  database system is ready to accept connections


v View in Docker Desktop   o View Config   w Enable Watch